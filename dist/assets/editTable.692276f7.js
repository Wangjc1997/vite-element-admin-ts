import{p as z}from"./index.ba6071d4.js";import{g as N}from"./article.a2df33e2.js";import{Y as S}from"./index.7d6ba453.js";import{d as F,r as D,k as O,o as a,m as _,w as t,a as k,i as s,K as P,e as r,f as l,v as c,L as Q,t as o,c as p,Q as $,P as h,X as A,_ as R}from"./index.0dd9c012.js";const Y={class:"section-container"},K={key:1},X={key:1},j=F({name:"EditTable"}),q=F({...j,setup(G){const v=D([]),f=D(!0),I=O({page:1,limit:10}),y=n=>({published:"success",draft:"info",deleted:"danger"})[n],L=async()=>{f.value=!0;const{data:n}=await N(I),b=n.items;v.value=b.map(m=>({...m,edit:!1,originalTitle:m.title})),f.value=!1},x=n=>{n.title=n.originalTitle,n.edit=!1,A({message:"The title has been restored to the original value",type:"warning"})},C=n=>{n.edit=!1,n.originalTitle=n.title,A({message:"The title has been edited",type:"success"})};return L(),(n,b)=>{const m=s("el-divider"),d=s("el-table-column"),T=s("svg-icon"),V=s("el-tag"),E=s("el-input"),w=s("el-button"),g=s("vxe-button"),B=s("el-table"),u=s("vxe-column"),U=s("vxe-table"),M=P("loading");return a(),_(k(S),{title:"\u53EF\u7F16\u8F91\u8868\u683C"},{body:t(()=>[r("div",Y,[l(m,{"content-position":"left"},{default:t(()=>[c("Element Plus Table")]),_:1}),Q((a(),_(B,{data:v.value,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:t(()=>[l(d,{align:"center",label:"ID",width:"65"},{default:t(({row:e})=>[r("span",null,o(e.id),1)]),_:1}),l(d,{width:"180px",align:"center",label:"Date"},{default:t(({row:e})=>[r("span",null,o(k(z)(e.timestamp,"{y}-{m}-{d} {h}:{i}")),1)]),_:1}),l(d,{width:"110px",align:"center",label:"Author"},{default:t(({row:e})=>[r("span",null,o(e.author),1)]),_:1}),l(d,{width:"100px",label:"Importance"},{default:t(({row:e})=>[(a(!0),p(h,null,$(e.importance,i=>(a(),_(T,{key:i,"icon-class":"star",class:"icon-star"}))),128))]),_:1}),l(d,{align:"center",label:"Readings",width:"95"},{default:t(({row:e})=>[r("span",null,o(e.pageviews),1)]),_:1}),l(d,{"class-name":"status-col",label:"Status",width:"110"},{default:t(({row:e})=>[l(V,{type:y(e.status)},{default:t(()=>[c(o(e.status),1)]),_:2},1032,["type"])]),_:1}),l(d,{"min-width":"300px",label:"Title"},{default:t(({row:e})=>[e.edit?(a(),p(h,{key:0},[l(E,{modelValue:e.title,"onUpdate:modelValue":i=>e.title=i,class:"edit-input",size:"small"},null,8,["modelValue","onUpdate:modelValue"]),l(w,{class:"cancel-btn",size:"small",type:"warning",onClick:i=>x(e)},{default:t(()=>[c(" cancel ")]),_:2},1032,["onClick"])],64)):(a(),p("span",K,o(e.title),1))]),_:1}),l(d,{align:"center",label:"Actions",width:"120"},{default:t(({row:e})=>[e.edit?(a(),_(g,{key:0,size:"mini",status:"success",icon:"el-icon-circle-check-outline",onClick:i=>C(e)},{default:t(()=>[c("Ok")]),_:2},1032,["onClick"])):(a(),_(g,{key:1,size:"mini",status:"primary",icon:"el-icon-circle-check-outline",onClick:i=>e.edit=!e.edit},{default:t(()=>[c("Edit")]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"])),[[M,f.value]]),l(m,{"content-position":"left"},{default:t(()=>[c("Vxe Table")]),_:1}),l(U,{round:"",border:"",data:v.value,loading:f.value,style:{width:"100%"}},{default:t(()=>[l(u,{align:"center",field:"id",title:"ID",width:"65"}),l(u,{align:"center",field:"timestamp",title:"Date",width:"180px"},{default:t(({row:e})=>[r("span",null,o(k(z)(e.timestamp,"{y}-{m}-{d} {h}:{i}")),1)]),_:1}),l(u,{align:"center",field:"author",title:"Author",width:"110px"}),l(u,{width:"100px",title:"Importance"},{default:t(({row:e})=>[(a(!0),p(h,null,$(e.importance,i=>(a(),_(T,{key:i,"icon-class":"star",class:"icon-star"}))),128))]),_:1}),l(u,{align:"center",title:"Readings",width:"95"},{default:t(({row:e})=>[r("span",null,o(e.pageviews),1)]),_:1}),l(u,{"class-name":"status-col",label:"Status",width:"110"},{default:t(({row:e})=>[l(V,{type:y(e.status)},{default:t(()=>[c(o(e.status),1)]),_:2},1032,["type"])]),_:1}),l(u,{"min-width":"300px",title:"Title"},{default:t(({row:e})=>[e.edit?(a(),p(h,{key:0},[l(E,{modelValue:e.title,"onUpdate:modelValue":i=>e.title=i,class:"edit-input",size:"small"},null,8,["modelValue","onUpdate:modelValue"]),l(w,{class:"cancel-btn",size:"small",type:"warning",onClick:i=>x(e)},{default:t(()=>[c(" cancel ")]),_:2},1032,["onClick"])],64)):(a(),p("span",X,o(e.title),1))]),_:1}),l(u,{align:"center",title:"Actions",width:"120"},{default:t(({row:e})=>[e.edit?(a(),_(g,{key:0,size:"mini",status:"success",icon:"el-icon-circle-check-outline",onClick:i=>C(e)},{default:t(()=>[c("Ok")]),_:2},1032,["onClick"])):(a(),_(g,{key:1,size:"mini",status:"primary",icon:"el-icon-circle-check-outline",onClick:i=>e.edit=!e.edit},{default:t(()=>[c("Edit")]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data","loading"])])]),_:1})}}});const ee=R(q,[["__scopeId","data-v-1fc62f08"]]);export{ee as default};
