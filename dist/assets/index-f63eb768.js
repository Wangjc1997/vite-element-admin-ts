import{d as A,u as B,r as x,j as I,k as N,l as v,o,c as y,e,f as i,v as l,m as a,t as d,w as _,q as C,L as R,a as k,cD as E,X as L,i as f,K as M,p as O,g as U,_ as Y}from"./index-fb28f3df.js";import{e as j}from"./index-9022a62a.js";import{Y as q}from"./index-91192dab.js";const D=p=>(O("data-v-c5db0e49"),p=p(),U(),p),W={class:"account-container flex-row flex-level-center"},X={class:"center-box"},z={class:"flex-row"},F={class:"card purple"},G={class:"flex-row flex-vertical-center"},J={class:"circle"},Q={class:"tips-info flex-column flex-vertical-center"},Z={class:"f1"},ee={class:"f2"},se={class:"card orange"},te={class:"flex-row flex-vertical-center"},oe={class:"circle"},ne={class:"tips-info flex-column flex-vertical-center"},ie={class:"f1"},ce={class:"f2"},ae={class:"card green"},le={class:"flex-row flex-vertical-center"},de={class:"circle"},re={class:"tips-info flex-column flex-vertical-center"},_e={class:"f1"},ve={class:"f2"},fe={class:"card blue"},pe={class:"flex-row flex-vertical-center"},ue={class:"circle"},he={class:"tips-info flex-column flex-vertical-center"},me={class:"f1"},ye={class:"f2"},ge={class:"card-section"},xe={class:"login-title flex-row flex-between flex-vertical-center"},ke=D(()=>e("span",{class:"title"},"登录历史",-1)),we={style:{cursor:"pointer"}},be=D(()=>e("div",{class:"card-section",style:{height:"330px"}},null,-1)),Ce={class:"avatar-box flex-column flex-level-center flex-vertical-center"},Ae={class:"user-name ellipsis"},De={class:"phone"},Ke={key:0},Se={key:1},Te=A({name:"UserCenter"}),He=A({...Te,setup(p){const w=B(),g=x(!1),c=I(),K={0:"未知",1:"密码登录",2:"验证码登录",3:"第三方登录"},s=N({avatar:v(()=>c.avatar),name:v(()=>c.name),phone:v(()=>c.phone),email:v(()=>c.email),identity:v(()=>c.identity),isPerfect:v(()=>c.avatar&&c.name&&c.phone&&c.email&&c.identity)}),S=x([{key:"method",title:"登录方式",dataKey:"method",align:"center",width:106,cellRenderer:r=>{const{rowData:t}=r;return i("div",null,[K[t.method]])}},{key:"deviceType",title:"设备名称",dataKey:"deviceType",align:"center",width:231},{key:"deviceOs",title:"系统",dataKey:"deviceOs",align:"center",width:110},{key:"loginAddr",title:"登录地点",dataKey:"loginAddr",align:"center",width:231},{key:"loginTime",title:"最后登录时间",dataKey:"loginTime",align:"center",width:231}]),b=x([]);(async()=>{g.value=!0;try{const{code:r,data:t}=await E();r==200&&(b.value=t)}catch{}finally{g.value=!1}})();const u=async r=>{if(r!=2){L({message:"此组件还未开发",type:"warning"});return}w.push("/user/attestation")};return(r,t)=>{const n=f("svg-icon"),h=f("el-button"),T=f("el-tooltip"),H=f("ArrowRight"),P=f("el-icon"),V=f("el-table-v2"),$=M("loading");return o(),y("div",W,[e("div",X,[e("div",z,[e("div",F,[e("div",G,[e("div",J,[i(n,{"icon-class":"phone_1",class:"icon"})]),e("div",Q,[e("div",Z,[l(" 绑定手机 "),s.phone?(o(),a(n,{key:0,"icon-class":"ok",class:"status-ok"})):(o(),a(n,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),e("div",ee,d(s.phone?"已绑定手机":"未绑定，请尽快绑定"),1)])]),i(h,{class:"btn",type:"info",onClick:t[0]||(t[0]=m=>u(1))},{default:_(()=>[l(d(s.phone?"更换手机":"去绑定"),1)]),_:1})]),e("div",se,[e("div",te,[e("div",oe,[i(n,{"icon-class":"safe",class:"icon"})]),e("div",ne,[e("div",ie,[l(" 实名认证 "),s.identity?(o(),a(n,{key:0,"icon-class":"ok",class:"status-ok"})):(o(),a(n,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),e("div",ce,d(s.identity?"已实名认证":"请尽快完成实名认证"),1)])]),s.identity?C("",!0):(o(),a(h,{key:0,class:"btn",type:"info",onClick:t[1]||(t[1]=m=>u(2))},{default:_(()=>[l("去认证")]),_:1}))]),e("div",ae,[e("div",le,[e("div",de,[i(n,{"icon-class":"msg_1",class:"icon"})]),e("div",re,[e("div",_e,[l(" 绑定邮箱 "),s.phone?(o(),a(n,{key:0,"icon-class":"ok",class:"status-ok"})):(o(),a(n,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),e("div",ve,d(s.email?"已绑定邮箱":"未绑定，请尽快绑定"),1)])]),i(h,{class:"btn",type:"info",onClick:t[2]||(t[2]=m=>u(3))},{default:_(()=>[l(d(s.email?"更换邮箱":"去绑定"),1)]),_:1})]),e("div",fe,[e("div",pe,[e("div",ue,[i(n,{"icon-class":"text",class:"icon"})]),e("div",he,[e("div",me,[l(" 个人信息 "),s.isPerfect?(o(),a(n,{key:0,"icon-class":"ok",class:"status-ok"})):(o(),a(n,{key:1,"icon-class":"warning_1",class:"status-warning"}))]),e("div",ye,d(s.isPerfect?"个人信息已完善":"个人信息未完善"),1)])]),s.isPerfect?C("",!0):(o(),a(h,{key:0,class:"btn",type:"info",onClick:t[3]||(t[3]=m=>u(4))},{default:_(()=>[l("去完善")]),_:1}))])]),R((o(),y("div",ge,[e("div",xe,[i(T,{class:"box-item",effect:"dark",content:"此处模拟了10W条数据",placement:"top-start"},{default:_(()=>[ke]),_:1}),e("p",we,[e("span",{class:"right-tips",onClick:t[4]||(t[4]=m=>k(w).push("/user/history"))},"查看更多"),i(P,{color:"#1890ff"},{default:_(()=>[i(H)]),_:1})])]),i(V,{class:"login-history-table",columns:S.value,data:b.value,width:910,height:210,fixed:!1},null,8,["columns","data"])])),[[$,g.value]]),be]),e("div",Ce,[i(k(q),{width:"150px",height:"150px",image:s.avatar},{default:_(()=>[l("Vite Element Admin Admin Admin Admin")]),_:1},8,["image"]),e("span",Ae," Hi,"+d(s.name||"小灰灰"),1),e("span",De,[s.phone?(o(),y("span",Ke,d(k(j)(s.phone)),1)):(o(),y("span",Se," 你还未绑定手机 "))])])])}}});const Ie=Y(He,[["__scopeId","data-v-c5db0e49"]]);export{Ie as default};
